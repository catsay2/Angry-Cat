-- Tạo biến theo dõi trạng thái No Clip
local noClipState = false

-- Lấy đối tượng nhân vật và nút GUI
local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local noClipButton = script.Parent.NoClipButton -- Thay thế bằng nút No Clip trong GUI của bạn

-- Hàm bật chế độ No Clip
local function enableNoClip()
    for _, part in ipairs(character:GetChildren()) do
        if part:IsA("BasePart") then
            part.CanCollide = false -- Tắt va chạm cho các phần của nhân vật
        end
    end
end

-- Hàm tắt chế độ No Clip
local function disableNoClip()
    for _, part in ipairs(character:GetChildren()) do
        if part:IsA("BasePart") then
            part.CanCollide = true -- Bật va chạm lại cho các phần của nhân vật
        end
    end
end

-- Logic cho việc bật/tắt No Clip khi nhấn nút
noClipButton.MouseButton1Click:Connect(function()
    noClipState = not noClipState -- Đảo ngược trạng thái No Clip
    
    if noClipState then
        enableNoClip() -- Bật No Clip
        noClipButton.Text = "No Clip : On" -- Cập nhật lại văn bản trên nút
    else
        disableNoClip() -- Tắt No Clip
        noClipButton.Text = "No Clip : Off" -- Cập nhật lại văn bản trên nút
    end
end)
